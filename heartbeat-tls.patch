--- Heartbeat-3-0-7e3a82377fa8/lib/plugins/quorum/quorumd.c~	2011-06-17 12:32:43.000000000 +0200
+++ Heartbeat-3-0-7e3a82377fa8/lib/plugins/quorum/quorumd.c	2011-10-24 23:07:51.000000000 +0200
@@ -351,11 +351,12 @@
 verify_certificate (gnutls_session session)
 {
 	unsigned int cert_list_size;
+	unsigned int * status;
 	const gnutls_datum *cert_list;
 	int ret;
 	gnutls_x509_crt cert;
 
-	ret = gnutls_certificate_verify_peers (session);
+	ret = gnutls_certificate_verify_peersi2 (session,status);
 
 	if (ret < 0)
 	{
--- Heartbeat-3-0-7e3a82377fa8/membership/quorumd/quorumdtest.c~	2011-06-17 12:32:43.000000000 +0200
+++ Heartbeat-3-0-7e3a82377fa8/membership/quorumd/quorumdtest.c	2011-10-24 23:06:46.000000000 +0200
@@ -160,11 +160,12 @@
 verify_certificate (gnutls_session session)
 {
 	unsigned int cert_list_size;
+	unsigned int * status;
 	const gnutls_datum *cert_list;
 	int ret;
 	gnutls_x509_crt cert;
 
-	ret = gnutls_certificate_verify_peers (session);
+	ret = gnutls_certificate_verify_peers2 (session,status);
 
 	if (ret < 0)
 	{
--- Heartbeat-3-0-7e3a82377fa8/membership/quorumd/quorumd.c~	2011-06-17 12:32:43.000000000 +0200
+++ Heartbeat-3-0-7e3a82377fa8/membership/quorumd/quorumd.c	2011-10-24 23:05:21.000000000 +0200
@@ -473,13 +473,14 @@
 verify_certificate (gnutls_session session, char* CN)
 {
 	unsigned int cert_list_size;
+	unsigned int * status;
 	const gnutls_datum *cert_list;
 	int ret;
 	char dn[MAX_DN_LEN];
 	size_t dn_len = MAX_DN_LEN;
 	gnutls_x509_crt cert;
 
-	ret = gnutls_certificate_verify_peers(session);
+	ret = gnutls_certificate_verify_peers2(session,status);
 
 	if (ret < 0)
 	{
